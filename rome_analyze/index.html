<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `rome_analyze` crate."><meta name="keywords" content="rust, rustlang, rust-lang, rome_analyze"><title>rome_analyze - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../rome_analyze/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../rome_analyze/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate rome_analyze</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.0.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../rome_analyze/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">rome_analyze</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/rome_analyze/lib.rs.html#1-690">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="context/index.html" title="rome_analyze::context mod">context</a></div><div class="item-right docblock-short"></div></div></div><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.declare_group.html" title="rome_analyze::declare_group macro">declare_group</a></div><div class="item-right docblock-short"><p>This macro is used by the codegen script to declare an analyzer rule group,
and implement the <a href="trait.RuleGroup.html" title="RuleGroup">RuleGroup</a> trait for it</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.declare_rule.html" title="rome_analyze::declare_rule macro">declare_rule</a></div><div class="item-right docblock-short"><p>This macro is used to declare an analyzer rule type, and implement the
<a href="trait.RuleMeta.html" title="RuleMeta">RuleMeta</a> trait for it</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.merge_node_visitors.html" title="rome_analyze::merge_node_visitors macro">merge_node_visitors</a></div><div class="item-right docblock-short"><p>Creates a single struct implementing <a href="trait.Visitor.html" title="Visitor">Visitor</a> over a collection of type
implementing the <a href="trait.NodeVisitor.html" title="NodeVisitor">NodeVisitor</a> helper trait. Unlike the global <a href="trait.Visitor.html" title="Visitor">Visitor</a>,
node visitors are transient: they get instantiated when the traversal
enters the corresponding node and destroyed when the node is exited. They
are intended as a building blocks for creating and managing the state of
complex visitors by allowing the implementation to be split over multiple
smaller components.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AnalysisFilter.html" title="rome_analyze::AnalysisFilter struct">AnalysisFilter</a></div><div class="item-right docblock-short"><p>Allows filtering the list of rules that will be executed in a run of the analyzer,
and at what source code range signals (diagnostics or actions) may be raised</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Analyzer.html" title="rome_analyze::Analyzer struct">Analyzer</a></div><div class="item-right docblock-short"><p>The analyzer is the main entry point into the <code>rome_analyze</code> infrastructure.
Its role is to run a collection of <a href="trait.Visitor.html" title="Visitor">Visitor</a>s over a syntax tree, with each
visitor implementing various analysis over this syntax tree to generate
auxiliary data structures as well as emit “query match” events to be
processed by lint rules and in turn emit “analyzer signals” in the form of
diagnostics, code actions or both</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AnalyzerAction.html" title="rome_analyze::AnalyzerAction struct">AnalyzerAction</a></div><div class="item-right docblock-short"><p>Code Action object returned by the analyzer, generated from a <a href="struct.RuleAction.html" title="crate::RuleAction">crate::RuleAction</a>
with additional information about the rule injected by the analyzer</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AnalyzerContext.html" title="rome_analyze::AnalyzerContext struct">AnalyzerContext</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Ast.html" title="rome_analyze::Ast struct">Ast</a></div><div class="item-right docblock-short"><p>Query type usable by lint rules to match on specific <a href="../rome_rowan/ast/trait.AstNode.html" title="AstNode">AstNode</a> types</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InspectMatcher.html" title="rome_analyze::InspectMatcher struct">InspectMatcher</a></div><div class="item-right docblock-short"><p>Adapter type wrapping a <a href="trait.QueryMatcher.html" title="QueryMatcher">QueryMatcher</a> type with a function that can be
used to inspect the query matches emitted by the analyzer</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MatchQueryParams.html" title="rome_analyze::MatchQueryParams struct">MatchQueryParams</a></div><div class="item-right docblock-short"><p>Parameters provided to <a href="trait.QueryMatcher.html#tymethod.match_query" title="QueryMatcher::match_query">QueryMatcher::match_query</a> and require to run lint rules</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RegistryRuleMetadata.html" title="rome_analyze::RegistryRuleMetadata struct">RegistryRuleMetadata</a></div><div class="item-right docblock-short"><p>Metadata entry for a rule and its group in the registry</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RuleAction.html" title="rome_analyze::RuleAction struct">RuleAction</a></div><div class="item-right docblock-short"><p>Code Action object returned by a single analysis rule</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RuleCategories.html" title="rome_analyze::RuleCategories struct">RuleCategories</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RuleDiagnostic.html" title="rome_analyze::RuleDiagnostic struct">RuleDiagnostic</a></div><div class="item-right docblock-short"><p>Diagnostic object returned by a single analysis rule</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RuleKey.html" title="rome_analyze::RuleKey struct">RuleKey</a></div><div class="item-right docblock-short"><p>Opaque identifier for a single rule</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RuleMetadata.html" title="rome_analyze::RuleMetadata struct">RuleMetadata</a></div><div class="item-right docblock-short"><p>Static metadata containing information about a rule</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RuleRegistry.html" title="rome_analyze::RuleRegistry struct">RuleRegistry</a></div><div class="item-right docblock-short"><p>The rule registry holds type-erased instances of all active analysis rules
for each phase.
What defines a phase is the set of services that a phase offers. Currently
we have:</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RuleSuppressions.html" title="rome_analyze::RuleSuppressions struct">RuleSuppressions</a></div><div class="item-right docblock-short"><p>Set of nodes this rule has suppressed from matching its query</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ServiceBag.html" title="rome_analyze::ServiceBag struct">ServiceBag</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SignalEntry.html" title="rome_analyze::SignalEntry struct">SignalEntry</a></div><div class="item-right docblock-short"><p>Entry for a pending signal in the <code>signal_queue</code></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SyntaxVisitor.html" title="rome_analyze::SyntaxVisitor struct">SyntaxVisitor</a></div><div class="item-right docblock-short"><p>The <a href="struct.SyntaxVisitor.html" title="SyntaxVisitor">SyntaxVisitor</a> is the simplest form of visitor implemented for the
analyzer, it simply broadcast each <a href="../rome_rowan/utility_types/enum.WalkEvent.html#variant.Enter" title="WalkEvent::Enter">WalkEvent::Enter</a> as a query match
event for the <a href="../rome_rowan/syntax/node/struct.SyntaxNode.html" title="SyntaxNode">SyntaxNode</a> being entered</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VisitorContext.html" title="rome_analyze::VisitorContext struct">VisitorContext</a></div><div class="item-right docblock-short"><p>Mutable context objects shared by all visitors</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VisitorFinishContext.html" title="rome_analyze::VisitorFinishContext struct">VisitorFinishContext</a></div><div class="item-right docblock-short"><p>Mutable context objects provided to the finish hook of visitors</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ActionCategory.html" title="rome_analyze::ActionCategory enum">ActionCategory</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AnalyzerDiagnostic.html" title="rome_analyze::AnalyzerDiagnostic enum">AnalyzerDiagnostic</a></div><div class="item-right docblock-short"><p>Small wrapper for diagnostics during the analysis phase.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.CannotCreateServicesError.html" title="rome_analyze::CannotCreateServicesError enum">CannotCreateServicesError</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Never.html" title="rome_analyze::Never enum">Never</a></div><div class="item-right docblock-short"><p>Utility type to be used as a default value for the <code>B</code> generic type on
<code>analyze</code> when the provided callback never breaks</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Phases.html" title="rome_analyze::Phases enum">Phases</a></div><div class="item-right docblock-short"><p>Defines all the phases that the <a href="struct.RuleRegistry.html" title="RuleRegistry">RuleRegistry</a> supports.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.QueryKey.html" title="rome_analyze::QueryKey enum">QueryKey</a></div><div class="item-right docblock-short"><p>Mirrors the variants of <a href="enum.QueryMatch.html" title="QueryMatch">QueryMatch</a> to statically compute which queries a
given <a href="trait.Queryable.html" title="Queryable">Queryable</a> type can match</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.QueryMatch.html" title="rome_analyze::QueryMatch enum">QueryMatch</a></div><div class="item-right docblock-short"><p>Enumerate all the types of <a href="trait.Queryable.html" title="Queryable">Queryable</a> analyzer visitors may emit</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.RuleCategory.html" title="rome_analyze::RuleCategory enum">RuleCategory</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.RuleFilter.html" title="rome_analyze::RuleFilter enum">RuleFilter</a></div><div class="item-right docblock-short"><p>Allow filtering a single rule or group of rules by their names</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.AnalyzerSignal.html" title="rome_analyze::AnalyzerSignal trait">AnalyzerSignal</a></div><div class="item-right docblock-short"><p>Event raised by the analyzer when a <a href="trait.Rule.html">Rule</a>
emits a diagnostic, a code action, or both</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FromServices.html" title="rome_analyze::FromServices trait">FromServices</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.GroupLanguage.html" title="rome_analyze::GroupLanguage trait">GroupLanguage</a></div><div class="item-right docblock-short"><p>This trait is implemented for tuples of <a href="trait.Rule.html" title="Rule">Rule</a> types of size 1 to 20 if the
query type of all the rules in the tuple share the same associated
<a href="../rome_rowan/syntax/trait.Language.html" title="Language">Language</a> (which is then aliased as the <code>Language</code> associated type on
<a href="trait.GroupLanguage.html" title="GroupLanguage">GroupLanguage</a> itself). It is used to ensure all the rules in a given
group are all querying the same underlying language</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.NodeVisitor.html" title="rome_analyze::NodeVisitor trait">NodeVisitor</a></div><div class="item-right docblock-short"><p>A node visitor is a special kind of visitor that does not have a persistent
state for the entire run of the analyzer. Instead these visitors are
transient, they get instantiated when the traversal enters the
corresponding node type and destroyed when the corresponding node exits</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Phase.html" title="rome_analyze::Phase trait">Phase</a></div><div class="item-right docblock-short"><p>Defines which phase a rule will run. This will be defined
by the set of services a rule demands.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.QueryMatcher.html" title="rome_analyze::QueryMatcher trait">QueryMatcher</a></div><div class="item-right docblock-short"><p>The <a href="trait.QueryMatcher.html" title="QueryMatcher">QueryMatcher</a> trait is responsible of running lint rules on
<a href="enum.QueryMatch.html" title="QueryMatch">QueryMatch</a> instances emitted by the various <a href="trait.Visitor.html">Visitor</a>
and push signals wrapped in <a href="struct.SignalEntry.html" title="SignalEntry">SignalEntry</a> to the signal queue</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Queryable.html" title="rome_analyze::Queryable trait">Queryable</a></div><div class="item-right docblock-short"><p>Trait implemented for all types, for example lint rules can query them to emit diagnostics or code actions.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Rule.html" title="rome_analyze::Rule trait">Rule</a></div><div class="item-right docblock-short"><p>Trait implemented by all analysis rules: declares interest to a certain AstNode type,
and a callback function to be executed on all nodes matching the query to possibly
raise an analysis event</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.RuleGroup.html" title="rome_analyze::RuleGroup trait">RuleGroup</a></div><div class="item-right docblock-short"><p>A rule group is a collection of rules under a given name, serving as a
“namespace” for lint rules and allowing the entire set of rules to be
disabled at once</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.RuleMeta.html" title="rome_analyze::RuleMeta trait">RuleMeta</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Visitor.html" title="rome_analyze::Visitor trait">Visitor</a></div><div class="item-right docblock-short"><p>Visitors are the main building blocks of the analyzer: they receive syntax
<a href="../rome_rowan/utility_types/enum.WalkEvent.html" title="WalkEvent">WalkEvent</a>s, process these events to build secondary data structures from
the syntax tree, and emit rule query matches through the <a href="struct.RuleRegistry.html" title="crate::RuleRegistry">crate::RuleRegistry</a></p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ControlFlow.html" title="rome_analyze::ControlFlow type">ControlFlow</a></div><div class="item-right docblock-short"><p>Type alias of <a href="https://doc.rust-lang.org/1.63.0/core/ops/control_flow/enum.ControlFlow.html" title="ops::ControlFlow">ops::ControlFlow</a> with the <code>B</code> generic type defaulting to <a href="enum.Never.html" title="Never">Never</a></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.LanguageRoot.html" title="rome_analyze::LanguageRoot type">LanguageRoot</a></div><div class="item-right docblock-short"></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="rome_analyze" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>